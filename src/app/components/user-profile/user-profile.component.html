<app-header></app-header>
<form [formGroup]="userProfileForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <div class="col-md-3 mx-auto">
      <h2 class="product-header">Thông tin người dùng</h2>

      <div class="mb-3">
        <label for="fullname" class="form-label">Họ và tên</label>
        <input
          type="text"
          class="form-control"
          id="fullname"
          name="fullName"
          formControlName="fullName"
        />
        <div
          *ngIf="
            userProfileForm.controls['fullName'].invalid &&
            userProfileForm.controls['fullName'].touched
          "
          class="invalid-feedback"
        >
          Họ và tên là trường bắt buộc.
        </div>
      </div>

      <div class="mb-3">
        <label for="address" class="form-label">Address</label>
        <input
          type="text"
          class="form-control"
          id="address"
          name="address"
          formControlName="address"
        />
      </div>

      <div class="mb-3">
        <label for="date_of_birth" class="form-label">Ngày sinh</label>
        <input
          type="date"
          class="form-control"
          id="date_of_birth"
          name="dateOfBirth"
          formControlName="dateOfBirth"
        />
      </div>
      <div class="mb-3" formGroupName="passwords">
        <label for="password" class="form-label">Mật khẩu</label>
        <input
          type="password"
          class="form-control"
          placeholder="Mật khẩu"
          id="password"
          name="password"
          formControlName="password"
        />
        @if(userProfileForm.get('passwords.password')?.invalid &&
        userProfileForm.get('passwords.password')?.touched){
        <div class="invalid-feedback">Mật khẩu ít nhất 6 ký tự.</div>
        }
      </div>

      <div class="mb-3" formGroupName="passwords">
        <label for="retype_password" class="form-label"
          >Nhập lại mật khẩu</label
        >
        <input
          type="password"
          class="form-control"
          placeholder="Nhập lại mật khẩu"
          id="retype_password"
          name="retryPassword"
          formControlName="retryPassword"
        />
        @if(userProfileForm.get('passwords')?.errors?.['passwordNotEqual']||
        userProfileForm.get('password.retryPassword')?.invalid &&
        userProfileForm.get('password.retryPassword')?.touched){
        <div class="invalid-feedback">Mật khẩu không khớp.</div>
        }
      </div>
      <div class="text-center">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="userProfileForm.invalid"
        >
          Lưu thay đổi
        </button>
      </div>
    </div>
  </div>
</form>
<app-footer></app-footer>
